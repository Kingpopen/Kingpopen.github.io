<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>hexo å›¾ç‰‡åŠ è½½ä¸èƒ½æ­£å¸¸æ˜¾ç¤º</title>
      <link href="/2022/05/27/hexo-tu-pian-jia-zai-bu-neng-zheng-chang-xian-shi/"/>
      <url>/2022/05/27/hexo-tu-pian-jia-zai-bu-neng-zheng-chang-xian-shi/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote><p>æœ€è¿‘åœ¨ä½¿ç”¨hexo åŠ  materyä¸»é¢˜æ¥æ­å»ºè‡ªå·±çš„åšå®¢ï¼Œè®°å½•ä¸€ä¸‹å‡ºç°çš„é—®é¢˜ã€‚</p><p>hexoçš„materyä¸»é¢˜é“¾æ¥ï¼š<a href="https://github.com/blinkfox/hexo-theme-matery">https://github.com/blinkfox/hexo-theme-matery</a></p><p>é‡Œé¢æœ‰ç›¸åº”çš„ä¸­æ–‡ä½¿ç”¨æ•™ç¨‹ï¼Œè¿˜æ˜¯æ¯”è¾ƒè¯¦ç»†çš„ã€‚</p><p>æˆ‘çš„hexoç‰ˆæœ¬æ˜¯6.0.0</p></blockquote><h3 id="ä¸€ã€é—®é¢˜æè¿°"><a href="#ä¸€ã€é—®é¢˜æè¿°" class="headerlink" title="ä¸€ã€é—®é¢˜æè¿°"></a>ä¸€ã€é—®é¢˜æè¿°</h3><blockquote><p>æˆ‘åœ¨ç”¨Typoraå†™ç›¸å…³åšå®¢çš„mdæ–‡ä»¶æ—¶ï¼Œéœ€è¦æ’å…¥ç›¸å…³çš„å›¾ç‰‡ï¼Œæˆ‘æŒ‰ç…§ç½‘ä¸Šçš„æ–¹æ³•éƒ½æ˜¯ï¼š</p><ul><li>åœ¨æ ¹ç›®å½•ä¸‹çš„_config.yamlæ–‡ä»¶ä¸­å°†â€post_asset_folderâ€è®¾ä¸º:true</li><li>npmå®‰è£…è½¬åŒ–å›¾ç‰‡è·¯å¾„çš„å·¥å…·åŒ…ï¼šnpm install hexo-asset-image â€“save</li><li>Typoraä¸­ä½¿ç”¨ï¼[]ï¼ˆï¼‰ä¼ å…¥å¯¹åº”çš„å›¾ç‰‡æ–‡ä»¶å</li></ul></blockquote><p>æˆ‘æŒ‰ç…§ä¸Šè¿°æ­¥éª¤å°è¯•ä¹‹åå‘ç°å›¾ç‰‡è¿˜æ˜¯ä¸èƒ½å¤Ÿæ­£å¸¸çš„æ˜¾ç¤ºå‡ºæ¥ï¼Œæˆ‘çš„Typoraæ˜¯æŒ‰ç…§è§„èŒƒå†™çš„å›¾ç‰‡åï¼Œä½†æ˜¯åšå®¢å°±æ˜¯ä¸èƒ½å±•ç¤ºå›¾ç‰‡:</p><img src="2.png" alt="å›¾1 Typoraä»£ç å›¾" style="zoom:50%;"><img src="1.png" alt="å›¾2 bugå›¾" style="zoom:67%;"><h3 id="äºŒã€é—®é¢˜åŸå› "><a href="#äºŒã€é—®é¢˜åŸå› " class="headerlink" title="äºŒã€é—®é¢˜åŸå› "></a>äºŒã€é—®é¢˜åŸå› </h3><ul><li><p>æŒ‰F12æŸ¥çœ‹å½“å‰ç½‘é¡µçš„ img æ ‡ç­¾çš„é‡Œé¢çš„urlæ˜¯ä»€ä¹ˆï¼Ÿ</p><blockquote><p>æˆ‘å‘ç°urlè§£ææˆäº†ï¼š/kingpopen.github.io/2022/05/27/new-blog/pic.jpg</p><p><strong>éš¾æ€ª</strong>ä¸èƒ½æ­£å¸¸çš„å±•ç¤ºå›¾ç‰‡~</p><p>è¯´æ˜hexo-asset-imageè¿™ä¸ªå·¥å…·åŒ…åœ¨å¸®åŠ©æˆ‘è§£ætyporaä¸­å†™çš„å›¾ç‰‡è·¯å¾„çš„æ—¶å€™å‡ºäº†é—®é¢˜ã€‚</p></blockquote><img src="3.png" alt="å›¾3 F12çš„imgæ ‡ç­¾å›¾" style="zoom:100%;"></li><li><p>æŸ¥çœ‹hexo-assert-imageä¸­åˆ°åº•å†™äº†äº›ä»€ä¹ˆï¼Ÿ</p><blockquote><p>hexo-assert-imageå°±æ”¾åœ¨:æ ¹ç›®å½•\node_modules\hexo-asset-image é‡Œé¢</p><p>æ‰“å¼€å…¶ä¸­çš„index.jsæ–‡ä»¶ï¼Œå‘ç°å†™äº†ä¸€å †ä»£ç ï¼Œæ¯”è¾ƒå…³é”®çš„ä»£ç æ˜¯ï¼š</p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">,</span> config<span class="token punctuation">.</span>root <span class="token operator">+</span> link <span class="token operator">+</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>å¯ä»¥å‘ç°æœ€åçš„imgçš„srcè·¯å¾„æ˜¯ç”±confg.root, link, src, è¿™ä¸‰éƒ¨åˆ†ç»„æˆï¼Œæˆ‘å°†è¿™ä¸‰éƒ¨åˆ†æ‰“å°è¾“å‡ºï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ï¼š</p></blockquote><img src="4.png" alt="å›¾4 æ‰“å°è¾“å‡ºå›¾" style="zoom:50%;"><blockquote><p>åŸæ¥å°±æ˜¯è¿™å‡ æ ·ä¸œè¥¿ç»„æˆæˆ‘æœ€åçš„src~</p><p>çœ‹æ¥é—®é¢˜å°±æ˜¯å‡ºåœ¨äº†hexo-asset-imageåŒ…çš„index.jsæ–‡ä»¶é‡Œé¢ï¼Œå®ƒè§£ææ–¹å¼æœ‰ä¸€äº›é—®é¢˜ã€‚</p></blockquote></li><li><p>æœ€åæŸ¥äº†ä¸€äº›åšå®¢ï¼Œå‘ç°å¤§å®¶å®‰è£…çš„hexo-asset-imgç‰ˆæœ¬ä¸»è¦æ˜¯ä¸‹é¢è¿™ä¸¤ä¸ªï¼š</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// é«˜ç‰ˆæœ¬çš„hexo ä¸è¦å®‰è£…ä¸‹é¢è¿™ä¸¤ç±»åŒ…</span><span class="token number">1.</span> npm install https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>CodeFalling<span class="token operator">/</span>hexo<span class="token operator">-</span>asset<span class="token operator">-</span>image <span class="token operator">--</span>save<span class="token number">2.</span> npm install https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>7ym0n<span class="token operator">/</span>hexo<span class="token operator">-</span>asset<span class="token operator">-</span>image <span class="token operator">--</span>save<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>æˆ‘çœ‹åˆ°è¿™ä¸¤ä¸ªç‰ˆæœ¬çš„å‘è¡Œæ—¶é—´éƒ½æ˜¯æ¯”è¾ƒæ—©ï¼Œå¤§æ¦‚2018å¹´å·¦å³ã€‚ç°åœ¨æˆ‘ä½¿ç”¨çš„hexoç‰ˆæœ¬æ˜¯6.0.0çš„ï¼Œä¼°è®¡æ˜¯å› ä¸ºhexoçš„ç‰ˆæœ¬æ›´æ–°äº†ï¼Œä½†æ˜¯hexo-asset-imageçš„ç‰ˆæœ¬æ²¡æœ‰è¿›è¡Œç»´æŠ¤ï¼Œå¯¼è‡´äº†é”™è¯¯çš„å‡ºç°ã€‚</p></blockquote></li></ul><h3 id="ä¸‰ã€è§£å†³æ–¹æ³•"><a href="#ä¸‰ã€è§£å†³æ–¹æ³•" class="headerlink" title="ä¸‰ã€è§£å†³æ–¹æ³•"></a>ä¸‰ã€è§£å†³æ–¹æ³•</h3><blockquote><p>æœ€åæ‰¾åˆ°ä¸€ç¯‡åšå®¢ï¼Œè¿™ä¸ªè€å“¥è‡ªå·±æ”¹è¿›äº†hexo-asset-imgï¼Œå¹¶ä¸”å¼€æºäº†ï¼Œæˆ‘å®‰è£…ä»–è‡ªå·±æ”¹çš„hexo-asset-imgç‰ˆæœ¬ï¼Œå°±è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p></blockquote><p>â€‹ <strong>æ³¨æ„ä¸€ä¸‹ä¹‹å‰çš„åŒ…å«ï¼šhexo-asset-image, è¿™ä¸ªè€å“¥çš„åŒ…å«:hexo-asset-img</strong></p><blockquote><p>åšå®¢ï¼š<a href="https://cloud.tencent.com/developer/article/1970544">https://cloud.tencent.com/developer/article/1970544</a></p><p>githubï¼š<a href="https://github.com/yiyungent/hexo-asset-img">https://github.com/yiyungent/hexo-asset-img</a></p></blockquote><ul><li>æ–¹æ³•1ï¼šé‡æ–°å®‰è£…æ­£ç¡®çš„hexo-asset-imgç‰ˆæœ¬ï¼ˆæ¨èï¼‰</li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å…ˆå¸è½½ä¹‹å‰çš„hexo-asset-image ç‰ˆæœ¬</span>npm uninstall hexo<span class="token operator">-</span>asset<span class="token operator">-</span>image<span class="token comment">// å†é€‰æ‹©æ­£ç¡®çš„ç‰ˆæœ¬å®‰è£…</span>npm install hexo<span class="token operator">-</span>asset<span class="token operator">-</span>img<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>æ–¹æ³•äºŒï¼šç›´æ¥ä¿®æ”¹hexo-asset-imageä¸­çš„index.jsæ–‡ä»¶</p><blockquote><p>å› ä¸ºæœ‰çš„æ—¶å€™githubçš„ç½‘é€Ÿæ¯”è¾ƒæ…¢ï¼Œnpm installå®‰è£…å¯èƒ½å®‰è£…ä¸æˆåŠŸï¼Œå°±ç›´æ¥å°†ï¼š<a href="https://github.com/yiyungent/hexo-asset-img">https://github.com/yiyungent/hexo-asset-img</a> ä¸­çš„index.jsæ–‡ä»¶çš„å†…å®¹æ‹·è´ï¼Œç„¶åæ›¿æ¢è‡ªå·±é¡¹ç›®ä¸­hexo-asset-imageä¸­çš„index.jsçš„å†…å®¹å°±å¥½äº†ã€‚</p></blockquote></li></ul><p>è‡³æ­¤ï¼Œè¯¥é—®é¢˜å°±æˆåŠŸè§£å†³äº†ï¼Œæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><img src="5.png" alt="å›¾5 æ•ˆæœå›¾" style="zoom:;"><p><strong>æ³¨ï¼šå¦‚æœå­˜æ”¾å›¾ç‰‡çš„æ–‡ä»¶å¤¹åç§°æ˜¯ä¸­æ–‡ï¼ŒTyporaä¸­çš„ï¼[]ï¼ˆï¼‰ä¸­å›¾ç‰‡å›¾ç‰‡è·¯å¾„å°±ä¸è¦åŠ æ–‡ä»¶å¤¹åäº†ï¼Œç›´æ¥ä½¿ç”¨å›¾ç‰‡åç§°ï¼Œä¸ç„¶è¿˜æ˜¯ä¼šå‡ºç°ä¸èƒ½æ˜¾ç¤ºçš„é—®é¢˜ï¼</strong></p><h3 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h3><blockquote><p>â€‹        è¿™æ˜¯æˆ‘è‡ªå·±ç¬¬ä¸€æ¬¡ä½¿ç”¨githubæ¥æ­å»ºåšå®¢ï¼Œå…¶ä¸­ä¹Ÿé‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œå°±å±è¿™ä¸ªé—®é¢˜èŠ±çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œå¥½åœ¨æœ€åæˆåŠŸè§£å†³äº†ã€‚å¦‚æœæœ‰å…¶ä»–æœ‹å‹é‡åˆ°è¿™ç±»é—®é¢˜ï¼Œå¸Œæœ›å¯¹ä½ ä»¬æœ‰æ‰€å¸®åŠ©! ğŸ˜„</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>maskrcnn-benckmark-master ï¼ˆäºŒï¼‰ï¼šGeneralizedRCNNç±»</title>
      <link href="/2022/05/27/maskrcnn-benckmark-master-er-generalizedrcnn-lei/"/>
      <url>/2022/05/27/maskrcnn-benckmark-master-er-generalizedrcnn-lei/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote><p>â€‹       ä¸Šæ¬¡ä»‹ç»åˆ°äº†é…ç½®æ–‡ä»¶å¦‚ä½•ä½¿ç”¨ï¼Œä»¥åŠé…ç½®æ–‡ä»¶cfgå¯¹è±¡æœ€åä¼ åˆ°äº†ä¸€ä¸ªGeneralizedRCNNç±»ä¸­ã€‚æœ¬ç¯‡ï¼Œæˆ‘ä»¬ä»‹ç»ä¸€ä¸‹GeneralizedRCNNç±»ç©¶ç«Ÿæ˜¯æ€ä¹ˆæ„å»ºå‡ºä¸€ä¸ªæ¨¡å‹çš„ã€‚GeneralizedRCNNç»“æ„ç®€å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p></blockquote><img src="./maskrcnn-benckmark-master-ï¼ˆäºŒï¼‰ï¼šGeneralizedRCNNç±»/GeneralizedRCNNç»“æ„å›¾.jpg" style="zoom:50%;"><h3 id="ä¸€ã€GeneralizedRCNNç±»"><a href="#ä¸€ã€GeneralizedRCNNç±»" class="headerlink" title="ä¸€ã€GeneralizedRCNNç±»"></a>ä¸€ã€GeneralizedRCNNç±»</h3><blockquote><p>GeneralizedRCNNç±»åœ¨<strong>your_project/maskrcnn_benchmark/modeling/detector/generalized_rcnn.py</strong>æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆçœ‹æ„é€ å‡½æ•°**<em>init</em>()**:</p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> cfg<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span>GeneralizedRCNN<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token triple-quoted-string string">'''        build_backbone()  build_rpn()  build_roi_heads()é‡ç‚¹éœ€è¦äº†è§£çš„å‡½æ•°        build_backbone()ä¸»è¦æ˜¯åˆ›å»ºResNet+FPNç­‰ç‰¹å¾æå–ç½‘ç»œ        build_rpn()ä¸»è¦æ˜¯åˆ›å»ºRPNç»“æ„        build_roi_heads()ä¸»è¦æ˜¯åˆ›å»ºROI box head  ROI mask headç­‰ç»“æ„                '''</span>         <span class="token comment"># åˆ›å»ºéª¨å¹²ç½‘ç»œ</span>        self<span class="token punctuation">.</span>backbone <span class="token operator">=</span> build_backbone<span class="token punctuation">(</span>cfg<span class="token punctuation">)</span>        <span class="token comment"># åˆ›å»ºrpn</span>        self<span class="token punctuation">.</span>rpn <span class="token operator">=</span> build_rpn<span class="token punctuation">(</span>cfg<span class="token punctuation">,</span> self<span class="token punctuation">.</span>backbone<span class="token punctuation">.</span>out_channels<span class="token punctuation">)</span>        <span class="token comment"># åˆ›å»ºroi_heads</span>        self<span class="token punctuation">.</span>roi_heads <span class="token operator">=</span> build_roi_heads<span class="token punctuation">(</span>cfg<span class="token punctuation">,</span> self<span class="token punctuation">.</span>backbone<span class="token punctuation">.</span>out_channels<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ä»æ„é€ å‡½æ•°å¯ä»¥çœ‹å‡ºï¼Œæ•´ä¸ªç½‘ç»œä¸»è¦ç”±3ä¸ªéƒ¨åˆ†ç»„æˆï¼šbackboneã€rpnã€roi_headsã€‚ï¼ˆä»¥ç±»å˜é‡çš„å½¢å¼å­˜åœ¨ï¼‰</p><p>è€Œè¿™ä¸‰ä¸ªéƒ¨åˆ†ä¸»è¦æ˜¯ç”±build_backboneï¼ˆï¼‰ã€build_rpnï¼ˆï¼‰ã€build_roi_headsï¼ˆï¼‰ä¸‰ä¸ªå‡½æ•°æ‰€ç”Ÿæˆï¼Œæˆ‘åé¢ä¼šä¾æ¬¡ä»‹ç»è¿™ä¸‰ä¸ªå‡½æ•°ã€‚</p><p>æ¥ç€ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹GeneralizedRCNNç±»çš„forward()å‡½æ•°ï¼Œè§‚å¯Ÿä¸Šé¢ä¸Šé¢ä¸‰ä¸ªç±»å˜é‡æ˜¯å¦‚ä½•è¿›è¡Œå·¥ä½œçš„:</p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> images<span class="token punctuation">,</span> targets<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    Arguments:        images (list[Tensor] or ImageList): images to be processed        targets (list[BoxList]): ground-truth boxes present in the image (optional)    Returns:        result (list[BoxList] or dict[Tensor]): the output from the model.            During training, it returns a dict[Tensor] which contains the losses.            è®­ç»ƒé˜¶æ®µè¿”å›losså€¼            During testing, it returns list[BoxList] contains additional fields            like `scores`, `labels` and `mask` (for Mask R-CNN models).            æµ‹è¯•é˜¶æ®µè¿”å›é¢„æµ‹çš„ç»“æœï¼ˆå¾—åˆ†ï¼Œ æ ‡ç­¾ï¼Œ maskï¼‰    """</span>     <span class="token comment"># è®­ç»ƒè¿‡ç¨‹ï¼Œè¾“å…¥çš„æ•°æ®å¿…é¡»æœ‰å¯¹åº”çš„æ ‡ç­¾ï¼Œä¸ç„¶æ²¡æ³•è®¡ç®—æŸå¤±</span>    <span class="token keyword">if</span> self<span class="token punctuation">.</span>training <span class="token keyword">and</span> targets <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"In training mode, targets should be passed"</span><span class="token punctuation">)</span>    images <span class="token operator">=</span> to_image_list<span class="token punctuation">(</span>images<span class="token punctuation">)</span>    <span class="token comment"># å›¾åƒç»è¿‡backboneä¹‹å  è¾“å‡ºæå–çš„å›¾åƒç‰¹å¾</span>    features <span class="token operator">=</span> self<span class="token punctuation">.</span>backbone<span class="token punctuation">(</span>images<span class="token punctuation">.</span>tensors<span class="token punctuation">)</span>    <span class="token comment"># ç‰¹å¾ç»è¿‡RPNç½‘ç»œå¾—åˆ°proposalså’Œç›¸åº”çš„losså€¼ï¼ˆå› æ­¤RPNçš„ä½œç”¨å°±æ˜¯è·å–Proposalså’Œè®­ç»ƒæ—¶RPNçš„lossï¼‰</span>    <span class="token comment"># self.rpnè¿”å›å€¼çš„proposalsä¸­æ˜¯cat_Boxlistå¾—åˆ°çš„ç»“æœlist(BoxList) shape is ï¼ˆbatch sizeï¼Œï¼‰</span>    proposals<span class="token punctuation">,</span> proposal_losses <span class="token operator">=</span> self<span class="token punctuation">.</span>rpn<span class="token punctuation">(</span>images<span class="token punctuation">,</span> features<span class="token punctuation">,</span> targets<span class="token punctuation">)</span>    <span class="token keyword">if</span> self<span class="token punctuation">.</span>roi_heads<span class="token punctuation">:</span>        <span class="token comment"># resultæ˜¯æ£€æµ‹çš„ç»“æœï¼Œdetection_lossesçš„æŸå¤±ï¼ˆå¦‚æœå­˜åœ¨maskåˆ†æ”¯ï¼Œresultå’Œdetection_losséƒ½æ˜¯åŒ…å«æœ‰maskçš„æ£€æµ‹ç»“æœå’Œmaskçš„æŸå¤±çš„ï¼‰</span>        x<span class="token punctuation">,</span> result<span class="token punctuation">,</span> detector_losses <span class="token operator">=</span> self<span class="token punctuation">.</span>roi_heads<span class="token punctuation">(</span>features<span class="token punctuation">,</span> proposals<span class="token punctuation">,</span> targets<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token comment"># å¦‚æœåªæå–Proposalsï¼ˆProposalåªæ˜¯è¡¨ç¤ºå¯èƒ½æ˜¯éœ€è¦æ£€æµ‹çš„ç‰©ä½“ï¼Œ</span>        <span class="token comment"># å…·ä½“æ˜¯ä»€ä¹ˆäº†ç±»åˆ«è¿˜ä¸æ¸…æ¥šï¼‰ï¼Œè€Œä¸å¯¹Proposalsè¿›è¡Œåˆ†ç±»</span>        <span class="token comment"># RPN-only models don't have roi_heads</span>        x <span class="token operator">=</span> features        result <span class="token operator">=</span> proposals        detector_losses <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>     <span class="token comment"># å°†losså€¼éƒ½æ”¾åˆ°ä¸€ä¸ªå­—å…¸é‡Œé¢ä¿å­˜</span>    <span class="token keyword">if</span> self<span class="token punctuation">.</span>training<span class="token punctuation">:</span>        losses <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>        losses<span class="token punctuation">.</span>update<span class="token punctuation">(</span>detector_losses<span class="token punctuation">)</span>        losses<span class="token punctuation">.</span>update<span class="token punctuation">(</span>proposal_losses<span class="token punctuation">)</span>        <span class="token keyword">return</span> losses     <span class="token keyword">return</span> result<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ä»forward()å‡½æ•°ä¸­å¯ä»¥å¾—çŸ¥ï¼š</p><p><strong>å¦‚æœæ˜¯è®­ç»ƒè¿‡ç¨‹ï¼Œforwardè¿”å›å€¼å°±æ˜¯losså€¼ã€‚</strong></p><p><strong>(å¦‚æœä¸æ˜¯è®­ç»ƒè¿‡ç¨‹ï¼Œè¿”å›å€¼å°±æ˜¯æ£€æµ‹çš„ç»“æœï¼ˆbounding boxã€ç±»åˆ«ã€maskï¼‰ã€‚</strong></p></blockquote><h3 id="äºŒã€åç»­"><a href="#äºŒã€åç»­" class="headerlink" title="äºŒã€åç»­"></a>äºŒã€åç»­</h3><blockquote><p>ä¸‹é¢å°†ä¸»è¦ä»‹ç»build_backboneï¼ˆï¼‰ã€build_rpnï¼ˆï¼‰å’Œ build_roi_headsï¼ˆï¼‰å‡½æ•°çš„ç›¸å…³å†…å®¹ï¼š</p><p>maskrcnn-benckmark-masterï¼ˆä¸‰ï¼‰ï¼šbuild_backbone()å‡½æ•°</p><p>maskrcnn-benchmark-masterï¼ˆå››ï¼‰ï¼šbuild_rpn()å‡½æ•°</p><p>maskrcnn-benchmark-masterï¼ˆäº”ï¼‰ï¼šRPNçš„inferenceæ–‡ä»¶</p><p>build_roi_headsï¼ˆï¼‰å‡½æ•°ç›¸å…³å†…å®¹è¿˜æœªå®Œæˆï¼Œå¾…ç»­~</p><p>ç å­—ä¸æ˜“ï¼Œæœªç»è®¸å¯ï¼Œè¯·å‹¿éšæ„è½¬è½½!</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> MaskRCNN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>maskrcnn-benckmark-master ï¼ˆä¸€ï¼‰ï¼šé…ç½®æ–‡ä»¶</title>
      <link href="/2022/05/27/maskrcnn-benckmark-master-yi-pei-zhi-wen-jian/"/>
      <url>/2022/05/27/maskrcnn-benckmark-master-yi-pei-zhi-wen-jian/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote><p>â€‹        ä½œä¸ºæœ¬ç³»åˆ—çš„å¼€ç¯‡ï¼Œæˆ‘é¦–å…ˆä»‹ç»çš„æ˜¯é…ç½®æ–‡ä»¶éƒ¨åˆ†ï¼Œå› ä¸ºæ•´ä¸ªæ¨¡å‹çš„æ­å»ºéƒ½å’Œé…ç½®æ–‡ä»¶æœ‰å¾ˆå¤§çš„å…³ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹é…ç½®æ–‡ä»¶é‡Œé¢éƒ½æœ‰å•¥ç›¸å…³å‚æ•°é…ç½®ã€‚</p></blockquote><h3 id="ä¸€ã€é…ç½®æ–‡ä»¶"><a href="#ä¸€ã€é…ç½®æ–‡ä»¶" class="headerlink" title="ä¸€ã€é…ç½®æ–‡ä»¶"></a>ä¸€ã€é…ç½®æ–‡ä»¶</h3><blockquote><p>maskrcnn-benckmark-masteræ˜¯æä¾›æœ‰é»˜è®¤çš„é…ç½®çš„ï¼Œè§æ–‡ä»¶:<strong>your_project/maskrcnn_benckmark/config/defaults.py</strong></p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token comment"># é€šè¿‡yacsåŒ…æ¥ç”Ÿæˆçš„é»˜è®¤é…ç½®</span><span class="token keyword">from</span> yacs<span class="token punctuation">.</span>config <span class="token keyword">import</span> CfgNode <span class="token keyword">as</span> CN  _C <span class="token operator">=</span> CN<span class="token punctuation">(</span><span class="token punctuation">)</span> _C<span class="token punctuation">.</span>MODEL <span class="token operator">=</span> CN<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># è¡¨ç¤ºæ˜¯å¦åªæœ‰RPN</span>_C<span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span>RPN_ONLY <span class="token operator">=</span> <span class="token boolean">False</span><span class="token comment"># è¡¨ç¤ºæ˜¯å¦å«æœ‰Maskåˆ†æ”¯</span>_C<span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span>MASK_ON <span class="token operator">=</span> <span class="token boolean">False</span>_C<span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span>RETINANET_ON <span class="token operator">=</span> <span class="token boolean">False</span>_C<span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span>KEYPOINT_ON <span class="token operator">=</span> <span class="token boolean">False</span><span class="token comment"># è¡¨ç¤ºæ˜¯å¦ä½¿ç”¨GPU</span>_C<span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span>DEVICE <span class="token operator">=</span> <span class="token string">"cuda"</span><span class="token comment"># é»˜è®¤çš„ç½‘ç»œæ¡†æ¶</span>_C<span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span>META_ARCHITECTURE <span class="token operator">=</span> <span class="token string">"GeneralizedRCNN"</span>_C<span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span>CLS_AGNOSTIC_BBOX_REG <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>é‚£å¦‚æœæˆ‘ä»¬éœ€è¦ä¿®æ”¹ç›¸å…³é…ç½®ï¼Œéš¾é“éœ€è¦åœ¨è¿™ä¸ªdefaults.pyæ–‡ä»¶ä¸­è¿›è¡Œä¿®æ”¹å—ï¼Ÿ</p><p>NO! NO! NO!</p><p>æˆ‘ä»¬å…¶å®åªè¦æŠŠéœ€è¦ä¿®æ”¹çš„é…ç½®å†™åœ¨ä¸€ä¸ªå¸¦.yamlåç¼€çš„æ–‡ä»¶ä¸­ï¼Œä»è€Œé€šè¿‡è¿™ä¸ªæ–‡ä»¶æ¥ä¿®æ”¹é»˜è®¤çš„é…ç½®ï¼Œè§æ–‡ä»¶your_project/configs/e2e_mask_rcnn_R_50_FPN_1x.yaml</p><p>ä¸‹é¢ä»¥e2e_mask_rcnn_R_50_FPN_1x.yamlæ–‡ä»¶ä¸ºä¾‹ å¯¹æ¨¡å‹çš„é…ç½®æ–‡ä»¶è¿›è¡Œç®€å•çš„ä»‹ç»ï¼š</p></blockquote><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># ä¸‹é¢çš„è¿™äº›å˜é‡ï¼ˆkeyå°±å¯ä»¥å½“åšå˜é‡ï¼Œvalueå°±æ˜¯å˜é‡çš„å€¼ï¼‰éƒ½æ˜¯åœ¨default.pyéƒ½å®šä¹‰å¥½çš„ï¼Œ</span><span class="token comment"># ä¸‹é¢å‡ºç°çš„å˜é‡å¤§éƒ¨åˆ†éƒ½æ˜¯éœ€è¦è¿›è¡Œæ›´æ”¹çš„ï¼Œä¸éœ€è¦æ›´æ”¹çš„ç›´æ¥ä½¿ç”¨é»˜è®¤çš„å°±è¡Œäº†ï¼Œä¸éœ€è¦åœ¨æ­¤å¤„è¿›è¡Œé…ç½®ã€‚</span><span class="token key atrule">MODEL</span><span class="token punctuation">:</span><span class="token comment"># é»˜è®¤çš„RCNNç½‘ç»œæ¡†æ¶ ï¼ˆä»£ç ä¸­ä¼šæœ‰GeneralizedRCNNç±»ï¼Œå°±æ˜¯é€šè¿‡ä¼ å…¥é…ç½®æ–‡ä»¶æ¥ç”Ÿæˆæ¨¡å‹çš„ï¼‰  </span>  <span class="token key atrule">META_ARCHITECTURE</span><span class="token punctuation">:</span> <span class="token string">"GeneralizedRCNN"</span><span class="token comment"># é¢„è®­ç»ƒçš„æƒé‡æ–‡ä»¶</span>  <span class="token key atrule">WEIGHT</span><span class="token punctuation">:</span> <span class="token string">"catalog://ImageNetPretrained/MSRA/R-50"</span> <span class="token comment"># éª¨å¹²ç½‘ç»œï¼ˆCNNç‰¹å¾æå–å™¨ï¼Œå®˜æ–¹å®ç°äº†å¥½å‡ ç§ï¼Œä¸‹é¢è¿™ç§æ˜¯ResNet-50+FPNï¼‰</span>  <span class="token key atrule">BACKBONE</span><span class="token punctuation">:</span>    <span class="token key atrule">CONV_BODY</span><span class="token punctuation">:</span> <span class="token string">"R-50-FPN"</span><span class="token comment"># ResNetsä½œä¸ºç‰¹å¾æå–ç½‘ç»œçš„è¾“å‡ºçš„ç‰¹å¾ç»´åº¦</span>  <span class="token key atrule">RESNETS</span><span class="token punctuation">:</span>    <span class="token key atrule">BACKBONE_OUT_CHANNELS</span><span class="token punctuation">:</span> <span class="token number">256</span> <span class="token comment"># RPNçš„é…ç½®</span>  <span class="token key atrule">RPN</span><span class="token punctuation">:</span>    <span class="token comment"># æ˜¯å¦ä½¿ç”¨FPNï¼ˆç‰¹å¾é‡‘å­—å¡”ç½‘ç»œï¼‰</span>    <span class="token key atrule">USE_FPN</span><span class="token punctuation">:</span> <span class="token boolean important">True</span>    <span class="token comment"># anchorçš„é…ç½®</span>    <span class="token key atrule">ANCHOR_STRIDE</span><span class="token punctuation">:</span> (4<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> 64)    <span class="token comment"># ç”¨äºè®­ç»ƒè¿‡ç¨‹çš„ ç­›é€‰anchorsçš„æ•°ç›®</span>    <span class="token key atrule">PRE_NMS_TOP_N_TRAIN</span><span class="token punctuation">:</span> <span class="token number">2000</span>    <span class="token comment"># ç”¨äºæµ‹è¯•è¿‡ç¨‹çš„ ç­›é€‰anchorsçš„æ•°ç›®</span>    <span class="token key atrule">PRE_NMS_TOP_N_TEST</span><span class="token punctuation">:</span> <span class="token number">1000</span>    <span class="token comment"># ç”¨äºæµ‹è¯•è¿‡ç¨‹ NMSæ“ä½œä¹‹åç•™ä¸‹çš„Proposalsæ•°ç›®</span>    <span class="token key atrule">POST_NMS_TOP_N_TEST</span><span class="token punctuation">:</span> <span class="token number">1000</span>    <span class="token key atrule">FPN_POST_NMS_TOP_N_TEST</span><span class="token punctuation">:</span> <span class="token number">1000</span> <span class="token comment"># ROI_HEADSé…ç½®</span>  <span class="token key atrule">ROI_HEADS</span><span class="token punctuation">:</span>    <span class="token comment"># æ˜¯å¦ä½¿ç”¨FPN</span>    <span class="token key atrule">USE_FPN</span><span class="token punctuation">:</span> <span class="token boolean important">True</span><span class="token comment"># classåˆ†ç±»å’Œbounding boxå›å½’åˆ†æ”¯</span>  <span class="token key atrule">ROI_BOX_HEAD</span><span class="token punctuation">:</span>    <span class="token comment"># ROI Alignå¤„ç†ä¹‹åæ‰€ç”Ÿæˆçš„ç»´åº¦</span>    <span class="token key atrule">POOLER_RESOLUTION</span><span class="token punctuation">:</span> <span class="token number">7</span>    <span class="token comment"># ä¸‹é¢è¿™å‡ ä¸ªå‚æ•°è¿˜æ²¡ææ˜ç™½ åç»­å†è¡¥ä¸Š~</span>    <span class="token key atrule">POOLER_SCALES</span><span class="token punctuation">:</span> (0.25<span class="token punctuation">,</span> <span class="token number">0.125</span><span class="token punctuation">,</span> <span class="token number">0.0625</span><span class="token punctuation">,</span> 0.03125)    <span class="token key atrule">POOLER_SAMPLING_RATIO</span><span class="token punctuation">:</span> <span class="token number">2</span>    <span class="token comment"># ç‰¹å¾æå–å™¨ï¼ˆå¯¹ROI Alignä¹‹åçš„ç»“æœè¿›è¡Œç‰¹å¾æå–ï¼‰</span>    <span class="token key atrule">FEATURE_EXTRACTOR</span><span class="token punctuation">:</span> <span class="token string">"FPN2MLPFeatureExtractor"</span>    <span class="token comment"># é¢„æµ‹å™¨ ï¼ˆä¸»è¦æ˜¯ä½¿ç”¨å…¨è¿æ¥å±‚è¿›è¡Œ åˆ†ç±»å’Œå›å½’ï¼‰</span>    <span class="token key atrule">PREDICTOR</span><span class="token punctuation">:</span> <span class="token string">"FPNPredictor"</span>  <span class="token comment"># maskåˆ†å‰²çš„åˆ†æ”¯</span>  <span class="token key atrule">ROI_MASK_HEAD</span><span class="token punctuation">:</span>    <span class="token comment"># ä¸‹é¢è¿™å‡ ä¸ªå‚æ•°è¿˜æ²¡ææ˜ç™½ åç»­å†è¡¥ä¸Š~</span>    <span class="token key atrule">POOLER_SCALES</span><span class="token punctuation">:</span> (0.25<span class="token punctuation">,</span> <span class="token number">0.125</span><span class="token punctuation">,</span> <span class="token number">0.0625</span><span class="token punctuation">,</span> 0.03125)    <span class="token comment"># ç‰¹å¾æå–å™¨ï¼ˆå¯¹ROI Alignä¹‹åçš„ç»“æœè¿›è¡Œç‰¹å¾æå–ï¼‰</span>    <span class="token key atrule">FEATURE_EXTRACTOR</span><span class="token punctuation">:</span> <span class="token string">"MaskRCNNFPNFeatureExtractor"</span>    <span class="token comment"># é¢„æµ‹å™¨ ï¼ˆä¸»è¦æ˜¯ç”Ÿæˆmaskï¼‰</span>    <span class="token key atrule">PREDICTOR</span><span class="token punctuation">:</span> <span class="token string">"MaskRCNNC4Predictor"</span>    <span class="token comment"># ä¸‹é¢è¿™å‡ ä¸ªå‚æ•°è¿˜æ²¡ææ˜ç™½ åç»­å†è¡¥ä¸Š~</span>    <span class="token key atrule">POOLER_RESOLUTION</span><span class="token punctuation">:</span> <span class="token number">14</span>    <span class="token key atrule">POOLER_SAMPLING_RATIO</span><span class="token punctuation">:</span> <span class="token number">2</span>    <span class="token key atrule">RESOLUTION</span><span class="token punctuation">:</span> <span class="token number">28</span>    <span class="token comment"># æ˜¯å¦ä½¿ç”¨ROI BOX HEADç‰¹å¾æå–å™¨æå–å¥½çš„ç‰¹å¾</span>    <span class="token key atrule">SHARE_BOX_FEATURE_EXTRACTOR</span><span class="token punctuation">:</span> <span class="token boolean important">False</span>  <span class="token key atrule">MASK_ON</span><span class="token punctuation">:</span> <span class="token boolean important">True</span> <span class="token comment"># æ•°æ®é›†çš„åç§°</span><span class="token key atrule">DATASETS</span><span class="token punctuation">:</span>  <span class="token key atrule">TRAIN</span><span class="token punctuation">:</span> ("coco_2014_train"<span class="token punctuation">,</span> "coco_2014_valminusminival")  <span class="token key atrule">TEST</span><span class="token punctuation">:</span> ("coco_2014_minival"<span class="token punctuation">,</span>) <span class="token comment"># æ•°æ®é›†çš„Dataloaderé…ç½®ï¼ˆç”¨æ¥è¯»å–æ•°æ®é›†ï¼‰</span><span class="token key atrule">DATALOADER</span><span class="token punctuation">:</span>  <span class="token key atrule">SIZE_DIVISIBILITY</span><span class="token punctuation">:</span> <span class="token number">32</span> <span class="token comment"># ç›¸å…³è®­ç»ƒå‚æ•°é…ç½®</span><span class="token key atrule">SOLVER</span><span class="token punctuation">:</span>  <span class="token key atrule">BASE_LR</span><span class="token punctuation">:</span> <span class="token number">0.02</span>  <span class="token key atrule">WEIGHT_DECAY</span><span class="token punctuation">:</span> <span class="token number">0.0001</span>  <span class="token key atrule">STEPS</span><span class="token punctuation">:</span> (60000<span class="token punctuation">,</span> 80000)  <span class="token key atrule">MAX_ITER</span><span class="token punctuation">:</span> <span class="token number">90000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ•´ä½“çš„GeneralizedRCNN ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆç»˜ç”»æ°´å¹³æœ‰é™orzï¼‰ï¼Œå¯ä»¥ä¾ç…§ä¸‹å›¾çš„æ¨¡å—å»çœ‹ç›¸åº”çš„é…ç½®ï¼Œéœ€è¦é…ç½®çš„æ¨¡å—ä¸»è¦æ˜¯ï¼š<strong>Backboneã€RPNã€ROI Heads(åŒ…æ‹¬ROI Box head å’Œ ROI Mask head)</strong> ã€‚</p></blockquote><p><img src="GeneralizedRCNN%E7%BB%93%E6%9E%84%E5%9B%BE.jpg" alt="å›¾1 GeneralizedRCNNç»“æ„å›¾"></p><h3 id="äºŒã€é…ç½®æ–‡ä»¶çš„ä½¿ç”¨"><a href="#äºŒã€é…ç½®æ–‡ä»¶çš„ä½¿ç”¨" class="headerlink" title="äºŒã€é…ç½®æ–‡ä»¶çš„ä½¿ç”¨"></a>äºŒã€é…ç½®æ–‡ä»¶çš„ä½¿ç”¨</h3><blockquote><p>â€‹        é…ç½®æ–‡ä»¶ä¸»è¦æ˜¯åœ¨your_project/tools/train_net.pyä¸­è¿›è¡Œè°ƒç”¨,é¦–å…ˆçœ‹åˆ°train_net.pyä¸­çš„mainå‡½æ•°:</p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    parser <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span>description<span class="token operator">=</span><span class="token string">"PyTorch Object Detection Training"</span><span class="token punctuation">)</span>        <span class="token comment"># é…ç½®æ–‡ä»¶(å¸¦æœ‰.yamlåç¼€çš„é…ç½®æ–‡ä»¶ä½œä¸ºå‘½ä»¤è¡Œå‚æ•°è¾“å…¥)</span>    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span>        <span class="token string">"--config-file"</span><span class="token punctuation">,</span>        default<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span>        metavar<span class="token operator">=</span><span class="token string">"FILE"</span><span class="token punctuation">,</span>        <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"path to config file"</span><span class="token punctuation">,</span>        <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span>     <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token comment"># å°†é…ç½®æ–‡ä»¶è¿›è¡Œè¯»å–</span>    cfg<span class="token punctuation">.</span>merge_from_file<span class="token punctuation">(</span>args<span class="token punctuation">.</span>config_file<span class="token punctuation">)</span>    cfg<span class="token punctuation">.</span>merge_from_list<span class="token punctuation">(</span>args<span class="token punctuation">.</span>opts<span class="token punctuation">)</span>    cfg<span class="token punctuation">.</span>freeze<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token comment"># å°†é…ç½®å¯¹è±¡ cfg ä½œä¸ºå‚æ•°ä¼ å…¥train()å‡½æ•°</span>    model <span class="token operator">=</span> train<span class="token punctuation">(</span>cfg<span class="token punctuation">,</span> args<span class="token punctuation">.</span>local_rank<span class="token punctuation">,</span> args<span class="token punctuation">.</span>distributed<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ¥ç€æˆ‘ä»¬åœ¨train_net.pyä¸­æ‰¾åˆ°train()å‡½æ•°:</p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">train</span><span class="token punctuation">(</span>cfg<span class="token punctuation">,</span> local_rank<span class="token punctuation">,</span> distributed<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># æ ¹æ®é…ç½®æ–‡ä»¶æ¥åˆ›å»ºæ¨¡å‹ (å‘ç°cfgè¢«ä¼ åˆ°äº†build_detection_model()å‡½æ•°ä¸­)</span>    model <span class="token operator">=</span> build_detection_model<span class="token punctuation">(</span>cfg<span class="token punctuation">)</span>    device <span class="token operator">=</span> torch<span class="token punctuation">.</span>device<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span>DEVICE<span class="token punctuation">)</span>    model<span class="token punctuation">.</span>to<span class="token punctuation">(</span>device<span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>â€‹        cfgå¯¹è±¡ä¼ å…¥åˆ°äº†build_detection_model()å‡½æ•°ä¸­ï¼Œè¿™åº”è¯¥æ˜¯ä¸€ä¸ªåˆ©ç”¨é…ç½®æ¥æ„å»ºæ¨¡å‹çš„å‡½æ•°ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªå‡½æ•°é‡Œé¢éƒ½å†™äº†äº›å•¥ï¼š</p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> <span class="token punctuation">.</span>generalized_rcnn <span class="token keyword">import</span> GeneralizedRCNN <span class="token comment"># ä¸€ä¸ªå­—å…¸</span>_DETECTION_META_ARCHITECTURES <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"GeneralizedRCNN"</span><span class="token punctuation">:</span> GeneralizedRCNN<span class="token punctuation">}</span>  <span class="token keyword">def</span> <span class="token function">build_detection_model</span><span class="token punctuation">(</span>cfg<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># é»˜è®¤çš„cfg.MODEL.META_ARCHITECTUREéƒ½æ˜¯GeneralizedRCNN</span>    meta_arch <span class="token operator">=</span> _DETECTION_META_ARCHITECTURES<span class="token punctuation">[</span>cfg<span class="token punctuation">.</span>MODEL<span class="token punctuation">.</span>META_ARCHITECTURE<span class="token punctuation">]</span>    <span class="token comment"># ç›¸å½“äº return GeneralizedRCNN(cfg)</span>    <span class="token keyword">return</span> meta_arch<span class="token punctuation">(</span>cfg<span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å…¶å®å¯ä»¥çœ‹å‡ºbuild_detection_model()å‡½æ•°å°±æ˜¯å°†cfgå¯¹è±¡åˆä½œä¸ºå‚æ•°ï¼Œä¼ åˆ°äº†GeneralizedRCNNç±»çš„initå‡½æ•°ä¸­ï¼Œè¿”å›ä¸€ä¸ªGeneralizedRCNNç±»å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æˆ‘ä»¬æ‰€å®šä¹‰çš„æ¨¡å‹ã€‚</p><p>é‚£ä¹ˆGeneraliziedRCNNç±»ä¸­ç©¶ç«Ÿæ‰§è¡Œäº†å“ªäº›è¿‡ç¨‹å‘¢ï¼Ÿå®ƒå¦‚ä½•æ„å»ºæˆ‘ä»¬çš„Mask-RCNNæ¨¡å‹çš„ï¼Ÿ</p><p>è¯·é˜…è¯»ï¼šmaskrcnn-benchmark-masterï¼ˆäºŒï¼‰ï¼šGeneraliziedRCNNç±»</p><p>ç å­—ä¸æ˜“ï¼Œæœªç»è®¸å¯ï¼Œè¯·å‹¿éšæ„è½¬è½½ï¼</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> MaskRCNN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>maskrcnn-benckmark-master ï¼ˆé›¶ï¼‰ï¼šä»£ç è§£è¯»</title>
      <link href="/2022/05/27/maskrcnn-benckmark-master-ling-dai-ma-jie-du/"/>
      <url>/2022/05/27/maskrcnn-benckmark-master-ling-dai-ma-jie-du/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>ä¹‹å‰ä¸€ç›´éƒ½æœ‰ä½¿ç”¨Mask-RCNNæ¨¡å‹ï¼Œä»ä¸€å¼€å§‹ä½¿ç”¨çš„MMDetection2æ¡†æ¶ä¸­çš„Mask-RCNNï¼Œèƒ½å¤Ÿæ¯”è¾ƒæ­£å¸¸çš„è¿è¡Œï¼Œä½†æ˜¯æƒ³è¦ä¿®æ”¹æˆæˆ‘éœ€è¦çš„å½¢å¼æ—¶ï¼Œå‘ç°MMDetection2ä¸­æœ‰ä¸€äº›åœ°æ–¹éƒ½å·²ç»æ¨¡å—åŒ–å¥½äº†ï¼Œä¸æ–¹ä¾¿ä¿®æ”¹ï¼Œäºæ˜¯ä¾¿è½¬æˆ˜åˆ°ç°åœ¨çš„maskrcnn-benckmark-masterè¿™ä¸ªç‰ˆæœ¬ã€‚</p><p>å‰æ®µæ—¶é—´æ˜¯æœ‰æŠŠmaskrcnn-benckmark-masteréƒ½é˜…è¯»ä¸€éï¼Œå¹¶æŒ‰ç…§äº†è‡ªå·±çš„éœ€æ±‚ä¿®æ”¹äº†ç½‘ç»œç»“æ„ï¼Œä½†æ˜¯ç°åœ¨åˆè¦ä¿®æ”¹å…¶ä»–éƒ¨åˆ†ï¼Œå‘ç°å…³äºä»£ç ç»†èŠ‚ï¼Œæˆ‘ä»¥åŠè®°ä¸å¾—å¤ªæ¸…æ¥šäº†orzã€‚æƒ³åˆ°å¥½ä¹…éƒ½æ²¡æœ‰æ›´æ–°åšå®¢äº†ï¼Œäºæ˜¯ä¾¿å†³å®šè®°å½•ä¸€ä¸‹ç¬¬äºŒæ¬¡å­¦ä¹ è¿™ä¸ªä»£ç çš„è¿‡ç¨‹ï¼Œå¸Œæœ›å¯¹åŒæ ·æƒ³å­¦ä¹ ç›¸å…³ä»£ç çš„æœ‹å‹æœ‰æ‰€å¸®åŠ©ï¼Œå¦‚æœæœ‰ç†è§£æœ‰è¯¯çš„åœ°æ–¹ï¼Œè¿˜è¯·è¯„è®ºåŒºæ‹ç –~</p></blockquote><h3 id="ä¸€ã€ä»‹ç»"><a href="#ä¸€ã€ä»‹ç»" class="headerlink" title="ä¸€ã€ä»‹ç»"></a>ä¸€ã€ä»‹ç»</h3><blockquote><p>å› ä¸ºæœ¬ç³»åˆ—çš„æ–‡ç« æ˜¯ä»‹ç»maskrcnn-benchmark-masterçš„ç½‘ç»œæ„å»ºçš„ä¸€äº›ä»£ç ï¼Œæ–¹ä¾¿æ ¹æ®è¿™ä¸ªé¡¹ç›®å°†å…¶ä¿®æ”¹æˆè‡ªå·±æ‰€éœ€è¦çš„å½¢å¼ï¼Œæ‰€ä»¥åœ¨é˜…è¯»æœ¬ç³»åˆ—æ–‡ç« æ—¶ï¼Œéœ€è¦æå‰å¯¹Faster-RCNNã€Mask-RCNNæ¨¡å‹æœ¬èº«çš„ä¸€äº›ç»†èŠ‚æœ‰ä¸€ä¸ªå¤§è‡´çš„äº†è§£ï¼Œå¹¶é»˜è®¤è¯»è€…å·²ç»èƒ½è‡ªè¡Œå°†maskrnn-benchmark-masterç›¸å…³ç¯å¢ƒé…ç½®å¥½ã€‚</p></blockquote><p>æ¨èFaster-RCNNå­¦ä¹ ï¼š<a href="https://zhuanlan.zhihu.com/p/31426458">https://zhuanlan.zhihu.com/p/31426458</a></p><p>æ¨èMask-RCNNå­¦ä¹ ï¼š<a href="https://zhuanlan.zhihu.com/p/37998710">https://zhuanlan.zhihu.com/p/37998710</a></p><blockquote><p>å¦‚ä¸‹æ˜¯æˆ‘å·²ç»å†™å¥½çš„æ–‡ç« ï¼ˆæ›´æ–°äº†å†è¡¥å……ï¼‰ï¼š</p><p>maskrcnn-benckmark-masterï¼ˆä¸€ï¼‰ï¼šé…ç½®æ–‡ä»¶</p><p>maskrcnn-benckmark-masterï¼ˆäºŒï¼‰ï¼šGeneralizedRCNNç±»</p><p>maskrcnn-benckmark-masterï¼ˆä¸‰ï¼‰ï¼šbuild_backbone()å‡½æ•°</p><p>maskrcnn-benchmark-masterï¼ˆå››ï¼‰ï¼šbuild_rpn()å‡½æ•°</p><p>maskrcnn-benchmark-masterï¼ˆäº”ï¼‰ï¼šRPNçš„inferenceæ–‡ä»¶</p><p>maskrcnn-benchmark-masterï¼ˆå…­ï¼‰ï¼šRPNçš„lossæ–‡ä»¶</p></blockquote><p>å¾…ç»­~</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> MaskRCNN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬ä¸€ç¯‡åšå®¢</title>
      <link href="/2022/05/27/di-yi-pian-bo-ke/"/>
      <url>/2022/05/27/di-yi-pian-bo-ke/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><pre class="line-numbers language-none"><code class="language-none">è¿™æ˜¯æˆ‘ä½¿ç”¨hexoæ­å»ºçš„åšå®¢ï¼Œæˆ‘å¼€å§‹å†™çš„ä¸€ä¸ªåšå®¢ï¼å…¨æ–°çš„å¼€å§‹~<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> è®°å½• </tag>
            
            <tag> ç”Ÿæ´» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/05/27/hello-world/"/>
      <url>/2022/05/27/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
